@model IEnumerable<APP_LAWYER.DAL.Entities.Comment>

@foreach (var comment in Model)
{
    <div class="comment">
        <p><strong>@comment.User.FirstName:</strong> @comment.Content <span class="text-muted">@comment.CreatedAt.ToString("g")</span></p>
        <!-- Replies to the comment -->
        <div class="replies">
            @if (comment.Replies != null)
            {
                foreach (var reply in comment.Replies)
                {
                    <div class="reply">
                        <p>@reply.Text</p>
                        @if (reply.User != null)
                        {
                            <p>By: @reply.User.FirstName</p>
                        }
                        else
                        {
                            <p>No user associated with this reply.</p>
                        }
                    </div>
                }
            }
        </div>
    </div>
}
